{"version":3,"sources":["webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/services/map.service.ts","webpack:///./src/app/services/nominatim.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.less","webpack:///./src/app/app.component.html"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 208;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 208\n// module chunks = 2","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import {Component, OnInit, ViewEncapsulation} from '@angular/core';\nimport MapService from \"./services/map.service\";\nimport {NominatimService} from \"./services/nominatim.service\";\nimport LatLng = L.LatLng;\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.less'],\n  providers: [MapService, NominatimService]\n})\nexport class AppComponent implements OnInit{\n  searchQuery: string;\n  results: any[];\n  markerLayer: any;\n  constructor(private mapService:MapService,\n              private nominatimService: NominatimService){}\n  ngOnInit()\n  {\n    this.mapService.initialize();\n  }\n  search(){\n    this.clear();\n    this.nominatimService.search(this.searchQuery).subscribe(\n      results => this.results = results\n    );\n  }\n  clear(){\n    this.results = [];\n    this.searchQuery = \"\";\n  }\n  showResult(place){\n    let latlng = new LatLng(place.lat, place.lon);\n    L.marker(latlng).addTo(this.mapService.map);\n    this.mapService.map.setView(latlng, 15);\n\n  }\n  showDetails(result){\n    window.open('https://nominatim.openstreetmap.org/details.php?place_id=' + result.place_id);\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\nimport { AppComponent } from './app.component';\nimport {MaterialModule} from \"@angular/material\";\nimport {FlexLayoutModule} from \"@angular/flex-layout\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    MaterialModule,\n    FlexLayoutModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from '@angular/core';\nimport { Map, GeoJSON } from 'leaflet';\nimport 'leaflet';\n\n@Injectable()\nexport default class MapService {\n  public map: Map;\n  private currentLayer: GeoJSON;\n\n  constructor() {\n\n  }\n\n  initialize() {\n    if (this.map) {\n      return;\n    }\n\n    this.map = L.map('map', {\n        zoomControl: true,\n        center: L.latLng(0, 0),\n        zoom: 2,\n        minZoom: 3,\n        maxZoom: 19\n    });\n\n    L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>, Tiles courtesy of <a href=\"http://hot.openstreetmap.org/\" target=\"_blank\">Humanitarian OpenStreetMap Team</a>'\n    }).addTo(this.map);\n\n    L.control.scale().addTo(this.map);\n  }\n\n  showBoundary(geometry) {\n    this.clear();\n\n    let featureCollection: GeoJSON.FeatureCollection<any> = {\n      type: 'FeatureCollection',\n      features: [\n        {\n          type: 'Feature',\n          geometry: geometry,\n          properties: {}\n        }\n      ]\n    };\n\n    this.currentLayer = L.geoJSON(featureCollection, {\n      style: () => {\n        return {\n          color: '#3F51B5',\n          fillColor: '#3F51B5'\n        };\n      }\n    }).addTo(this.map);\n\n    this.map.fitBounds(this.currentLayer.getBounds());\n  }\n\n  clear() {\n    if (this.currentLayer) {\n      this.map.removeLayer(this.currentLayer);\n      this.currentLayer = undefined;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/map.service.ts","import { Injectable } from '@angular/core';\nimport {Http} from \"@angular/http\";\n\n@Injectable()\nexport class NominatimService {\n\n  constructor(private http: Http) { }\n\n  search(q: string){\n    let url = 'https://nominatim.openstreetmap.org/search?q=' + q + '&format=json&limit=10';\n    return this.http.get(url).map(res => res.json())\n\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/nominatim.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".toolbar-filler {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1 1 auto;\\n          flex: 1 1 auto;\\n}\\n.content {\\n  position: absolute;\\n  top: 64px;\\n  bottom: 0;\\n  width: 100%;\\n}\\n.content #map {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  width: 75%;\\n}\\n.content .search-sidebar {\\n  padding: 15px;\\n  min-width: 300px;\\n  overflow-y: auto;\\n}\\n.content .search-sidebar .search-box {\\n  width: calc(100% - 75px);\\n}\\n.content .search-sidebar .search-button {\\n  width: 30px;\\n  min-width: 0 !important;\\n  padding: 0 !important;\\n}\\n.content .search-sidebar .selected-result {\\n  border-bottom: 5px solid #3F51B5;\\n}\\n.content .search-sidebar .search-result {\\n  margin-top: 15px;\\n}\\n.content .search-sidebar .search-result .osm-link {\\n  cursor: pointer;\\n  color: #2ca1e3;\\n}\\n.content .search-sidebar .search-result:hover {\\n  border-bottom: 5px solid #3F51B5;\\n}\\n.white-frame {\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\n}\\n.clickable {\\n  cursor: pointer;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.less\n// module id = 330\n// module chunks = 2","module.exports = \"<md-toolbar class=\\\"white-frame\\\" color=\\\"primary\\\">\\n  <span>Leaflet example app</span>\\n  <span class=\\\"toolbar-filler\\\"></span>\\n</md-toolbar>\\n\\n<div class=\\\"flex-container content\\\" fxLayout=\\\"row\\\">\\n  <div class=\\\"flex-item search-sidebar white-frame\\\" fxFlex=\\\"25%\\\">\\n\\n    <md-card>\\n      <md-card-title>Search OpenStreetMap</md-card-title>\\n      <md-input-container class=\\\"search-box\\\">\\n        <input mdInput\\n               placeholder=\\\"place name\\\"\\n               [(ngModel)]=\\\"searchQuery\\\"\\n               (keyup.enter)=\\\"search()\\\">\\n      </md-input-container>\\n      <button md-button\\n              class=\\\"search-button\\\"\\n              color=\\\"primary\\\"\\n              style=\\\"margin-left: 5px\\\"\\n              (click)=\\\"search()\\\"\\n              md-tooltip=\\\"Search this location\\\">\\n      </button>\\n      <button md-button\\n              class=\\\"search-button\\\"\\n              md-tooltip=\\\"Clear results\\\"\\n              (click)=\\\"clear()\\\">\\n        <i class=\\\"fa fa-remove\\\"></i>\\n      </button>\\n    </md-card>\\n    <md-card *ngFor=\\\"let result of results; let i = index\\\"\\n             class=\\\"search-result\\\"\\n             [ngClass]=\\\"{ 'selected-result': selectedIndex === i }\\\">\\n      <md-card-header class=\\\"clickable\\\"\\n                      (click)=\\\"showResult(result)\\\"\\n                      md-tooltip=\\\"Show boundary\\\">\\n        <md-card-title>{{ result.display_name }}</md-card-title>\\n        <md-card-subtitle>\\n          {{ result.type }}\\n        </md-card-subtitle>\\n      </md-card-header>\\n      <br>\\n      <button md-raised-button md-tooltip=\\\"Show details\\\" (click)=\\\"showDetails(result)\\\">\\n        Details\\n      </button>\\n    </md-card>\\n    <md-card class=\\\"search-result\\\" *ngIf=\\\"noResult\\\">\\n      <md-card-subtitle>No Result</md-card-subtitle>\\n    </md-card>\\n  </div>\\n  <div class=\\\"flex-item\\\"  fxFlex=\\\"75%\\\">\\n    <div id=\\\"map\\\"></div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 336\n// module chunks = 2"],"sourceRoot":""}